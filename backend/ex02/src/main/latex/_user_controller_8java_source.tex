\doxysection{User\+Controller.\+java}
\hypertarget{_user_controller_8java_source}{}\label{_user_controller_8java_source}\index{java/org/zerock/controller/UserController.java@{java/org/zerock/controller/UserController.java}}
\mbox{\hyperlink{_user_controller_8java}{이 파일의 문서화 페이지로 가기}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00001}00001\ \textcolor{keyword}{package\ }org.zerock.controller;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00003}00003\ \textcolor{keyword}{import}\ org.springframework.beans.factory.annotation.Autowired;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00004}00004\ \textcolor{keyword}{import}\ org.springframework.http.HttpStatus;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00005}00005\ \textcolor{keyword}{import}\ org.springframework.http.ResponseEntity;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00006}00006\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.CrossOrigin;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00007}00007\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.GetMapping;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00008}00008\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.PathVariable;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00009}00009\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.PostMapping;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00010}00010\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.RequestBody;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00011}00011\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.RequestMapping;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00012}00012\ \textcolor{keyword}{import}\ org.springframework.web.bind.annotation.RestController;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00013}00013\ \textcolor{keyword}{import}\ org.zerock.domain.EmailChangeDTO;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00014}00014\ \textcolor{keyword}{import}\ org.zerock.domain.LoginDTO;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00015}00015\ \textcolor{keyword}{import}\ org.zerock.domain.PasswordChangeDTO;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00016}00016\ \textcolor{keyword}{import}\ org.zerock.domain.UserDTO;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00017}00017\ \textcolor{keyword}{import}\ org.zerock.service.UserService;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00018}00018\ \textcolor{keyword}{import}\ org.slf4j.Logger;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00019}00019\ \textcolor{keyword}{import}\ org.slf4j.LoggerFactory;}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00027}00027\ @RestController}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00028}00028\ @RequestMapping(\textcolor{stringliteral}{"{}/user"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00029}00029\ @CrossOrigin(origins\ =\ \textcolor{stringliteral}{"{}http://localhost:3000"{}})\ \textcolor{comment}{//\ CORS\ 허용}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00030}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller}{00030}}\ public\ class\ \mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller}{UserController}}\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00033}00033\ \ \ \ \ @Autowired}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00034}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_a78b93dc49ba4da84e5bffe7aa4ca7d6b}{00034}}\ \ \ \ \ \textcolor{keyword}{private}\ \mbox{\hyperlink{interfaceorg_1_1zerock_1_1service_1_1_user_service}{UserService}}\ \mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_a78b93dc49ba4da84e5bffe7aa4ca7d6b}{userService}};}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00044}00044\ \ \ \ \ @PostMapping(\textcolor{stringliteral}{"{}/register"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00045}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_aa74ccc93bbe7703df14cf8e3f40690e0}{00045}}\ \ \ \ \ public\ ResponseEntity<?>\ registerUser(@RequestBody\ \mbox{\hyperlink{classorg_1_1zerock_1_1domain_1_1_user_d_t_o}{UserDTO}}\ userDTO)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ userService.\mbox{\hyperlink{interfaceorg_1_1zerock_1_1service_1_1_user_service_a3402067d2228ed5ec88e339d2868d7d3}{registerUser}}(userDTO);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.ok().body(\textcolor{stringliteral}{"{}회원가입이\ 완료되었습니다."{}});}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00049}00049\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (Exception\ e)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.badRequest().body(e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00051}00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00052}00052\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00062}00062\ \ \ \ \ @PostMapping(\textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00063}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_afb8d96aa271627b0ced51bfb6c23e19d}{00063}}\ \ \ \ \ public\ ResponseEntity<?>\ login(@RequestBody\ \mbox{\hyperlink{classorg_1_1zerock_1_1domain_1_1_login_d_t_o}{LoginDTO}}\ loginDTO)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}로그인\ 요청\ 데이터:\ "{}}\ +\ loginDTO);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classorg_1_1zerock_1_1domain_1_1_user_d_t_o}{UserDTO}}\ user\ =\ userService.\mbox{\hyperlink{interfaceorg_1_1zerock_1_1service_1_1_user_service_ae6b63f9104c6d913fe0ef4c21df74cb2}{login}}(loginDTO.getUserId(),\ loginDTO.getPassword());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.ok().body(user);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00068}00068\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (Exception\ e)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ System.out.println(e);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.badRequest().body(e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00071}00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00072}00072\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00083}00083\ \ \ \ \ @PostMapping(\textcolor{stringliteral}{"{}/\{userId\}/change-\/password"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00084}00084\ \ \ \ \ @CrossOrigin(origins\ =\ \textcolor{stringliteral}{"{}http://localhost:3000"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00085}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_a5a271ca4166801a1cdd8dd5e7c9a00ad}{00085}}\ \ \ \ \ public\ ResponseEntity<?>\ changePassword(}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ @PathVariable(value\ =\ "{}userId"{},\ required\ =\ true)\ String\ userId,}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ @RequestBody\ \mbox{\hyperlink{classorg_1_1zerock_1_1domain_1_1_password_change_d_t_o}{PasswordChangeDTO}}\ request)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00088}00088\ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}비밀번호\ 변경\ 요청\ -\/\ userId:\ "{}}\ +\ userId);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00089}00089\ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}새로운\ 비밀번호:\ "{}}\ +\ request.getPassword());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00091}00091\ \ \ \ \ \ \ \ \ if\ (userId\ ==\ \textcolor{keyword}{null}\ ||\ userId.isEmpty())\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ return\ ResponseEntity.badRequest().body(\textcolor{stringliteral}{"{}userId가\ 누락되었습니다."{}});}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00093}00093\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ userService.updatePassword(userId,\ request.getPassword());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ return\ ResponseEntity.ok().body(\textcolor{stringliteral}{"{}비밀번호가\ 성공적으로\ 변경되었습니다."{}});}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00098}00098\ \ \ \ \ \ \ \ \ \}\ catch\ (Exception\ e)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ System.err.println(\textcolor{stringliteral}{"{}비밀번호\ 변경\ 실패:\ "{}}\ +\ e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.status(HttpStatus.BAD\_REQUEST)}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .body(\textcolor{stringliteral}{"{}비밀번호\ 변경\ 실패:\ "{}}\ +\ e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00102}00102\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00103}00103\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00114}00114\ \ \ \ \ @PostMapping(\textcolor{stringliteral}{"{}/\{userId\}/change-\/email"{}})}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00115}\mbox{\hyperlink{classorg_1_1zerock_1_1controller_1_1_user_controller_a254c66167578535981cb99907a66285e}{00115}}\ \ \ \ \ public\ ResponseEntity<?>\ changeEmail(}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ @PathVariable("{}userId"{})\ String\ userId,}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ @RequestBody\ \mbox{\hyperlink{classorg_1_1zerock_1_1domain_1_1_email_change_d_t_o}{EmailChangeDTO}}\ request)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00118}00118\ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}이메일\ 변경\ 요청\ -\/\ userId:\ "{}}\ +\ userId);}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00119}00119\ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}새로운\ 이메일:\ "{}}\ +\ request.getEmail());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ userService.updateEmail(userId,\ request.getEmail());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ return\ ResponseEntity.ok().body(\textcolor{stringliteral}{"{}이메일이\ 성공적으로\ 변경되었습니다."{}});}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00124}00124\ \ \ \ \ \ \ \ \ \}\ catch\ (Exception\ e)\ \{}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00125}00125\ \ \ \ \ \ \ \ \ \ \ \ \ System.err.println(\textcolor{stringliteral}{"{}이메일\ 변경\ 실패:\ "{}}\ +\ e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ResponseEntity.badRequest().body(e.getMessage());}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00127}00127\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00128}00128\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_user_controller_8java_source_l00129}00129\ \}}

\end{DoxyCode}
